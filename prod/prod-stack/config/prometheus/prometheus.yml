# =============================================================================
# Prometheus Configuration â€” Production Stack
# All scrape targets reference prod-* service names on prod-platform-net
# =============================================================================

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: "ai-devops-platform"
    environment: "production"

scrape_configs:

  # Prometheus self-monitoring
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]

  # Ollama LLM metrics
  - job_name: "ollama"
    scrape_interval: 30s
    metrics_path: /metrics
    static_configs:
      - targets: ["prod-ollama:11434"]

  # MinIO object storage metrics
  - job_name: "minio"
    metrics_path: /minio/v2/metrics/cluster
    static_configs:
      - targets: ["prod-minio:9000"]

  # Grafana dashboard metrics
  - job_name: "grafana"
    static_configs:
      - targets: ["prod-grafana:3000"]

  # Loki log aggregation metrics
  - job_name: "loki"
    static_configs:
      - targets: ["prod-loki:3100"]

  # Jaeger tracing metrics
  - job_name: "jaeger"
    static_configs:
      - targets: ["prod-jaeger:14269"]
