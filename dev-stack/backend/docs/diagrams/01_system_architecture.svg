<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1120" font-family="Arial, sans-serif">
  <!-- Background -->
  <rect width="1200" height="1120" fill="#f8fafc"/>

  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" font-size="24" font-weight="bold" fill="#1e293b">AI Pipeline Generation - System Architecture</text>

  <!-- User Layer -->
  <rect x="50" y="70" width="1100" height="100" rx="10" fill="#e0f2fe" stroke="#0284c7" stroke-width="2"/>
  <text x="100" y="95" font-size="14" font-weight="bold" fill="#0284c7">USER INTERACTION LAYER</text>

  <!-- User Icon -->
  <circle cx="120" cy="130" r="20" fill="#0284c7"/>
  <text x="120" y="135" text-anchor="middle" font-size="16" fill="white">&#x1F464;</text>
  <text x="120" y="160" text-anchor="middle" font-size="10" fill="#0284c7">User</text>

  <!-- Arrow from User to Chatbot -->
  <line x1="150" y1="130" x2="250" y2="130" stroke="#0284c7" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="200" y="120" text-anchor="middle" font-size="9" fill="#64748b">"Create pipeline"</text>

  <!-- Chatbot -->
  <rect x="260" y="105" width="120" height="50" rx="8" fill="#0284c7"/>
  <text x="320" y="135" text-anchor="middle" font-size="12" fill="white">&#x1F4AC; Chatbot UI</text>

  <!-- Arrow from Chatbot to Backend -->
  <line x1="320" y1="155" x2="320" y2="190" stroke="#0284c7" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Backend Layer -->
  <rect x="50" y="200" width="1100" height="320" rx="10" fill="#f0fdf4" stroke="#16a34a" stroke-width="2"/>
  <text x="100" y="225" font-size="14" font-weight="bold" fill="#16a34a">DEVOPS TOOLS BACKEND (FastAPI :8003)</text>

  <!-- Step 1: Analyze -->
  <rect x="80" y="245" width="300" height="80" rx="8" fill="#bbf7d0" stroke="#16a34a" stroke-width="1"/>
  <text x="230" y="265" text-anchor="middle" font-size="12" font-weight="bold" fill="#166534">Step 1: Analyze Repository</text>
  <text x="100" y="285" font-size="10" fill="#166534">&#x2022; Fetch files from GitLab API</text>
  <text x="100" y="300" font-size="10" fill="#166534">&#x2022; Detect language (Go, Java, Python, Rust)</text>
  <text x="100" y="315" font-size="10" fill="#166534">&#x2022; Detect framework &amp; package manager</text>

  <!-- Arrow -->
  <line x1="230" y1="325" x2="230" y2="345" stroke="#16a34a" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 2: Check ChromaDB -->
  <rect x="80" y="355" width="300" height="100" rx="8" fill="#bbf7d0" stroke="#16a34a" stroke-width="1"/>
  <text x="230" y="375" text-anchor="middle" font-size="12" font-weight="bold" fill="#166534">Step 2: Check ChromaDB (RL-Direct)</text>
  <text x="100" y="395" font-size="10" fill="#166534">Query: successful_pipelines collection</text>
  <text x="100" y="410" font-size="10" fill="#166534">Filter: language=go, framework=generic</text>

  <!-- Decision Diamond -->
  <polygon points="230,430 270,450 230,470 190,450" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
  <text x="230" y="454" text-anchor="middle" font-size="9" fill="#92400e">Found?</text>

  <!-- Yes Path -->
  <line x1="270" y1="450" x2="320" y2="450" stroke="#16a34a" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="295" y="442" font-size="9" fill="#16a34a">Yes</text>
  <rect x="330" y="430" width="140" height="40" rx="5" fill="#86efac" stroke="#16a34a" stroke-width="1"/>
  <text x="400" y="450" text-anchor="middle" font-size="10" fill="#166534">Use RAG DIRECTLY</text>
  <text x="400" y="462" text-anchor="middle" font-size="9" fill="#166534">(No LLM call!)</text>

  <!-- No Path -->
  <line x1="190" y1="450" x2="140" y2="450" stroke="#dc2626" stroke-width="2" marker-end="url(#arrowhead-red)"/>
  <text x="165" y="442" font-size="9" fill="#dc2626">No</text>
  <rect x="20" y="430" width="110" height="40" rx="5" fill="#fecaca" stroke="#dc2626" stroke-width="1"/>
  <text x="75" y="450" text-anchor="middle" font-size="10" fill="#991b1b">Fallback to</text>
  <text x="75" y="462" text-anchor="middle" font-size="9" fill="#991b1b">LLM Provider</text>

  <!-- Arrow from Fallback to LLM Provider box -->
  <path d="M 75 470 Q 75 490 500 490 Q 520 490 520 475" fill="none" stroke="#0d9488" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-teal)"/>

  <!-- ═══════════════════════════════════════════════════════════════════ -->
  <!-- LLM PROVIDER SECTION (Configurable: Ollama or Claude Code)       -->
  <!-- ═══════════════════════════════════════════════════════════════════ -->
  <rect x="500" y="355" width="280" height="155" rx="10" fill="#f0fdfa" stroke="#0d9488" stroke-width="2"/>
  <text x="640" y="375" text-anchor="middle" font-size="11" font-weight="bold" fill="#0d9488">LLM PROVIDER (LLM_PROVIDER env)</text>

  <!-- Ollama option -->
  <rect x="515" y="385" width="250" height="35" rx="5" fill="#ccfbf1" stroke="#0d9488" stroke-width="1"/>
  <text x="530" y="402" font-size="9" font-weight="bold" fill="#115e59">Ollama (qwen3:32b)</text>
  <text x="530" y="414" font-size="8" fill="#115e59">Container: ollama:11434 | Free, local</text>

  <!-- Claude Code option -->
  <rect x="515" y="425" width="250" height="35" rx="5" fill="#ccfbf1" stroke="#0d9488" stroke-width="1"/>
  <text x="530" y="442" font-size="9" font-weight="bold" fill="#115e59">Claude Code CLI (Sonnet/Opus)</text>
  <text x="530" y="454" font-size="8" fill="#115e59">Subprocess: claude -p | Max subscription</text>

  <!-- Switch indicator -->
  <rect x="515" y="466" width="250" height="35" rx="5" fill="#f0fdfa" stroke="#0d9488" stroke-width="1" stroke-dasharray="3,3"/>
  <text x="640" y="480" text-anchor="middle" font-size="8" fill="#0d9488">Switch via: LLM_PROVIDER=ollama|claude-code</text>
  <text x="640" y="492" text-anchor="middle" font-size="8" fill="#0d9488">Chat service stays on Ollama (tool calling)</text>

  <!-- Step 3: Return Files -->
  <rect x="500" y="245" width="280" height="80" rx="8" fill="#bbf7d0" stroke="#16a34a" stroke-width="1"/>
  <text x="640" y="265" text-anchor="middle" font-size="12" font-weight="bold" fill="#166534">Step 3: Return Generated Files</text>
  <text x="520" y="285" font-size="10" fill="#166534">&#x2022; .gitlab-ci.yml (9-stage pipeline)</text>
  <text x="520" y="300" font-size="10" fill="#166534">&#x2022; Dockerfile (multi-stage build)</text>
  <text x="520" y="315" font-size="10" fill="#166534">&#x2022; model_used: "chromadb-direct" | "llm"</text>

  <!-- ChromaDB Box -->
  <rect x="820" y="245" width="300" height="220" rx="10" fill="#fae8ff" stroke="#a855f7" stroke-width="2"/>
  <text x="970" y="270" text-anchor="middle" font-size="12" font-weight="bold" fill="#7c3aed">ChromaDB (Vector DB :8005)</text>

  <rect x="840" y="285" width="260" height="60" rx="5" fill="#f5d0fe" stroke="#a855f7" stroke-width="1"/>
  <text x="970" y="305" text-anchor="middle" font-size="10" font-weight="bold" fill="#7c3aed">successful_pipelines</text>
  <text x="860" y="325" font-size="9" fill="#7c3aed">Stores proven pipeline configs</text>
  <text x="860" y="338" font-size="9" fill="#7c3aed">with metadata (language, stages)</text>

  <rect x="840" y="355" width="260" height="50" rx="5" fill="#f5d0fe" stroke="#a855f7" stroke-width="1"/>
  <text x="970" y="375" text-anchor="middle" font-size="10" font-weight="bold" fill="#7c3aed">pipeline_templates</text>
  <text x="860" y="392" font-size="9" fill="#7c3aed">Reference templates for LLM</text>

  <rect x="840" y="415" width="260" height="40" rx="5" fill="#f5d0fe" stroke="#a855f7" stroke-width="1"/>
  <text x="970" y="435" text-anchor="middle" font-size="10" font-weight="bold" fill="#7c3aed">pipeline_feedback</text>
  <text x="860" y="448" font-size="9" fill="#7c3aed">Learned corrections</text>

  <!-- Arrow to ChromaDB -->
  <line x1="380" y1="405" x2="830" y2="315" stroke="#a855f7" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-purple)"/>
  <text x="600" y="345" font-size="9" fill="#a855f7">Query templates</text>

  <!-- GitLab Layer -->
  <rect x="50" y="540" width="700" height="150" rx="10" fill="#fff7ed" stroke="#ea580c" stroke-width="2"/>
  <text x="100" y="565" font-size="14" font-weight="bold" fill="#ea580c">GITLAB SERVER (:8929)</text>

  <!-- Pipeline Stages -->
  <text x="80" y="590" font-size="11" font-weight="bold" fill="#c2410c">9-Stage Pipeline:</text>

  <rect x="80" y="600" width="70" height="30" rx="4" fill="#fed7aa" stroke="#ea580c" stroke-width="1"/>
  <text x="115" y="620" text-anchor="middle" font-size="9" fill="#c2410c">compile</text>

  <rect x="160" y="600" width="70" height="30" rx="4" fill="#fed7aa" stroke="#ea580c" stroke-width="1"/>
  <text x="195" y="620" text-anchor="middle" font-size="9" fill="#c2410c">build</text>

  <rect x="240" y="600" width="70" height="30" rx="4" fill="#fed7aa" stroke="#ea580c" stroke-width="1"/>
  <text x="275" y="620" text-anchor="middle" font-size="9" fill="#c2410c">test</text>

  <rect x="320" y="600" width="70" height="30" rx="4" fill="#fed7aa" stroke="#ea580c" stroke-width="1"/>
  <text x="355" y="620" text-anchor="middle" font-size="9" fill="#c2410c">sast</text>

  <rect x="400" y="600" width="70" height="30" rx="4" fill="#fed7aa" stroke="#ea580c" stroke-width="1"/>
  <text x="435" y="620" text-anchor="middle" font-size="9" fill="#c2410c">quality</text>

  <rect x="80" y="640" width="70" height="30" rx="4" fill="#fed7aa" stroke="#ea580c" stroke-width="1"/>
  <text x="115" y="660" text-anchor="middle" font-size="9" fill="#c2410c">security</text>

  <rect x="160" y="640" width="70" height="30" rx="4" fill="#fed7aa" stroke="#ea580c" stroke-width="1"/>
  <text x="195" y="660" text-anchor="middle" font-size="9" fill="#c2410c">push</text>

  <rect x="240" y="640" width="70" height="30" rx="4" fill="#fed7aa" stroke="#ea580c" stroke-width="1"/>
  <text x="275" y="660" text-anchor="middle" font-size="9" fill="#c2410c">notify</text>

  <rect x="320" y="640" width="70" height="30" rx="4" fill="#86efac" stroke="#16a34a" stroke-width="2"/>
  <text x="355" y="660" text-anchor="middle" font-size="9" fill="#166534" font-weight="bold">learn</text>
  <text x="355" y="685" text-anchor="middle" font-size="8" fill="#16a34a">RL Stage</text>

  <!-- Arrows between stages -->
  <line x1="150" y1="615" x2="160" y2="615" stroke="#ea580c" stroke-width="1" marker-end="url(#arrowhead-small)"/>
  <line x1="230" y1="615" x2="240" y2="615" stroke="#ea580c" stroke-width="1" marker-end="url(#arrowhead-small)"/>
  <line x1="310" y1="615" x2="320" y2="615" stroke="#ea580c" stroke-width="1" marker-end="url(#arrowhead-small)"/>
  <line x1="390" y1="615" x2="400" y2="615" stroke="#ea580c" stroke-width="1" marker-end="url(#arrowhead-small)"/>
  <line x1="150" y1="655" x2="160" y2="655" stroke="#ea580c" stroke-width="1" marker-end="url(#arrowhead-small)"/>
  <line x1="230" y1="655" x2="240" y2="655" stroke="#ea580c" stroke-width="1" marker-end="url(#arrowhead-small)"/>
  <line x1="310" y1="655" x2="320" y2="655" stroke="#ea580c" stroke-width="1" marker-end="url(#arrowhead-small)"/>

  <!-- RL Feedback Loop -->
  <rect x="820" y="540" width="330" height="150" rx="10" fill="#ecfdf5" stroke="#059669" stroke-width="2"/>
  <text x="985" y="565" text-anchor="middle" font-size="14" font-weight="bold" fill="#059669">REINFORCEMENT LEARNING LOOP</text>

  <text x="840" y="590" font-size="10" fill="#047857">On Pipeline Success:</text>
  <text x="840" y="610" font-size="9" fill="#047857">1. learn_record job triggers</text>
  <text x="840" y="625" font-size="9" fill="#047857">2. POST /api/v1/pipeline/learn/record</text>
  <text x="840" y="640" font-size="9" fill="#047857">3. Store config in ChromaDB</text>
  <text x="840" y="655" font-size="9" fill="#047857">4. Future requests use this template!</text>

  <!-- Curved arrow from learn stage to RL box -->
  <path d="M 390 655 Q 600 720 830 620" fill="none" stroke="#059669" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-green)"/>

  <!-- Arrow from RL to ChromaDB -->
  <line x1="985" y1="540" x2="985" y2="470" stroke="#059669" stroke-width="2" marker-end="url(#arrowhead-green)"/>
  <text x="1000" y="505" font-size="9" fill="#059669">Store success</text>

  <!-- ═══════════════════════════════════════════════════════════════════ -->
  <!-- SELF-HEALING WORKFLOW SECTION                                      -->
  <!-- ═══════════════════════════════════════════════════════════════════ -->
  <rect x="50" y="710" width="1100" height="290" rx="10" fill="#fff1f2" stroke="#e11d48" stroke-width="2"/>
  <text x="600" y="738" text-anchor="middle" font-size="14" font-weight="bold" fill="#e11d48">SELF-HEALING WORKFLOW (On Pipeline Failure - LLM Auto-Fix)</text>

  <!-- Trigger: Pipeline Fails -->
  <rect x="75" y="755" width="130" height="50" rx="8" fill="#fecdd3" stroke="#e11d48" stroke-width="2"/>
  <text x="140" y="775" text-anchor="middle" font-size="10" font-weight="bold" fill="#9f1239">&#x274C; Pipeline</text>
  <text x="140" y="790" text-anchor="middle" font-size="10" font-weight="bold" fill="#9f1239">Fails</text>

  <!-- Arrow to Monitor -->
  <line x1="205" y1="780" x2="230" y2="780" stroke="#e11d48" stroke-width="2" marker-end="url(#arrowhead-red)"/>

  <!-- Background Monitor -->
  <rect x="235" y="755" width="130" height="50" rx="8" fill="#fda4af" stroke="#e11d48" stroke-width="1"/>
  <text x="300" y="775" text-anchor="middle" font-size="9" font-weight="bold" fill="#9f1239">Background</text>
  <text x="300" y="790" text-anchor="middle" font-size="9" fill="#9f1239">Monitor Detects</text>

  <!-- Arrow to Analyze -->
  <line x1="365" y1="780" x2="390" y2="780" stroke="#e11d48" stroke-width="2" marker-end="url(#arrowhead-red)"/>

  <!-- Fix Loop Box -->
  <rect x="395" y="750" width="430" height="120" rx="8" fill="#ffe4e6" stroke="#e11d48" stroke-width="2" stroke-dasharray="6,3"/>
  <text x="610" y="768" text-anchor="middle" font-size="11" font-weight="bold" fill="#9f1239">&#x1F504; Auto-Fix Loop (max 3 attempts)</text>

  <!-- Step: Analyze Error -->
  <rect x="410" y="780" width="90" height="40" rx="5" fill="#fecdd3" stroke="#e11d48" stroke-width="1"/>
  <text x="455" y="797" text-anchor="middle" font-size="8" font-weight="bold" fill="#9f1239">Analyze</text>
  <text x="455" y="810" text-anchor="middle" font-size="8" fill="#9f1239">Error Log</text>

  <!-- Arrow -->
  <line x1="500" y1="800" x2="515" y2="800" stroke="#e11d48" stroke-width="1.5" marker-end="url(#arrowhead-red-sm)"/>

  <!-- Step: LLM Fix -->
  <rect x="520" y="780" width="90" height="40" rx="5" fill="#fecdd3" stroke="#e11d48" stroke-width="1"/>
  <text x="565" y="797" text-anchor="middle" font-size="8" font-weight="bold" fill="#9f1239">LLM Generates</text>
  <text x="565" y="810" text-anchor="middle" font-size="8" fill="#9f1239">Fix (Provider)</text>

  <!-- Arrow -->
  <line x1="610" y1="800" x2="625" y2="800" stroke="#e11d48" stroke-width="1.5" marker-end="url(#arrowhead-red-sm)"/>

  <!-- Step: Commit -->
  <rect x="630" y="780" width="80" height="40" rx="5" fill="#fecdd3" stroke="#e11d48" stroke-width="1"/>
  <text x="670" y="797" text-anchor="middle" font-size="8" font-weight="bold" fill="#9f1239">Commit Fix</text>
  <text x="670" y="810" text-anchor="middle" font-size="8" fill="#9f1239">to GitLab</text>

  <!-- Arrow -->
  <line x1="710" y1="800" x2="725" y2="800" stroke="#e11d48" stroke-width="1.5" marker-end="url(#arrowhead-red-sm)"/>

  <!-- Step: Monitor -->
  <rect x="730" y="780" width="80" height="40" rx="5" fill="#fecdd3" stroke="#e11d48" stroke-width="1"/>
  <text x="770" y="797" text-anchor="middle" font-size="8" font-weight="bold" fill="#9f1239">Monitor</text>
  <text x="770" y="810" text-anchor="middle" font-size="8" fill="#9f1239">Pipeline</text>

  <!-- Retry arrow (curved, back to Analyze) -->
  <path d="M 770 825 Q 770 850 610 855 Q 455 855 455 825" fill="none" stroke="#e11d48" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowhead-red-sm)"/>
  <text x="610" y="865" text-anchor="middle" font-size="8" font-weight="bold" fill="#9f1239">Still failing? Retry</text>

  <!-- Decision Diamond after loop -->
  <polygon points="610,885 650,905 610,925 570,905" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>
  <text x="610" y="909" text-anchor="middle" font-size="8" fill="#92400e">Fixed?</text>

  <!-- Yes Path - Success -->
  <line x1="650" y1="905" x2="740" y2="905" stroke="#16a34a" stroke-width="2" marker-end="url(#arrowhead-green)"/>
  <text x="695" y="898" font-size="9" fill="#16a34a" font-weight="bold">Yes</text>

  <rect x="745" y="885" width="140" height="40" rx="8" fill="#bbf7d0" stroke="#16a34a" stroke-width="2"/>
  <text x="815" y="902" text-anchor="middle" font-size="9" font-weight="bold" fill="#166534">&#x2705; Store in</text>
  <text x="815" y="916" text-anchor="middle" font-size="9" fill="#166534">ChromaDB (RAG)</text>

  <!-- Arrow from success up to ChromaDB -->
  <path d="M 890 905 Q 1000 905 1000 470" fill="none" stroke="#a855f7" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-purple)"/>
  <text x="1020" y="700" font-size="8" fill="#a855f7">Store fixed</text>
  <text x="1020" y="712" font-size="8" fill="#a855f7">template</text>

  <!-- No Path - Failed after 3 attempts -->
  <line x1="570" y1="905" x2="420" y2="905" stroke="#dc2626" stroke-width="2" marker-end="url(#arrowhead-red)"/>
  <text x="495" y="898" font-size="9" fill="#dc2626" font-weight="bold">No (3x failed)</text>

  <!-- Create GitLab Issue -->
  <rect x="230" y="885" width="185" height="45" rx="8" fill="#fecaca" stroke="#dc2626" stroke-width="2"/>
  <text x="322" y="905" text-anchor="middle" font-size="9" font-weight="bold" fill="#991b1b">&#x1F4CB; Create GitLab Issue</text>
  <text x="322" y="920" text-anchor="middle" font-size="8" fill="#991b1b">for manual review</text>

  <!-- Arrow from GitLab issue up to GitLab layer -->
  <path d="M 322 885 Q 322 870 200 870 Q 80 870 80 695" fill="none" stroke="#ea580c" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-orange)"/>
  <text x="88" y="795" font-size="8" fill="#ea580c">Issue created</text>
  <text x="88" y="807" font-size="8" fill="#ea580c">in GitLab</text>

  <!-- Attempt counter labels -->
  <text x="75" y="975" font-size="9" fill="#9f1239" font-weight="bold">Flow: Pipeline Fails &#x2192; Monitor Detects &#x2192; LLM Analyzes Root Cause &#x2192; Generates Fix &#x2192; Commits &#x2192; Monitors &#x2192; Retry up to 3x</text>
  <text x="75" y="990" font-size="9" fill="#059669">&#x2714; If fixed: Template stored in ChromaDB for future use (becomes RAG template)</text>
  <text x="75" y="1003" font-size="9" fill="#dc2626">&#x2718; If still failing after 3 attempts: GitLab issue created with error details for manual review</text>

  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0284c7"/>
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#dc2626"/>
    </marker>
    <marker id="arrowhead-red-sm" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto">
      <polygon points="0 0, 7 2.5, 0 5" fill="#e11d48"/>
    </marker>
    <marker id="arrowhead-purple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#a855f7"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#059669"/>
    </marker>
    <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ea580c"/>
    </marker>
    <marker id="arrowhead-small" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto">
      <polygon points="0 0, 6 2, 0 4" fill="#ea580c"/>
    </marker>
    <marker id="arrowhead-teal" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0d9488"/>
    </marker>
  </defs>

  <!-- Legend -->
  <rect x="50" y="1020" width="1100" height="80" rx="10" fill="#f1f5f9" stroke="#94a3b8" stroke-width="1"/>
  <text x="600" y="1045" text-anchor="middle" font-size="12" font-weight="bold" fill="#475569">Legend</text>

  <rect x="80" y="1058" width="20" height="20" fill="#e0f2fe" stroke="#0284c7"/>
  <text x="110" y="1073" font-size="10" fill="#475569">User Layer</text>

  <rect x="200" y="1058" width="20" height="20" fill="#f0fdf4" stroke="#16a34a"/>
  <text x="230" y="1073" font-size="10" fill="#475569">Backend</text>

  <rect x="310" y="1058" width="20" height="20" fill="#fae8ff" stroke="#a855f7"/>
  <text x="340" y="1073" font-size="10" fill="#475569">ChromaDB</text>

  <rect x="420" y="1058" width="20" height="20" fill="#fff7ed" stroke="#ea580c"/>
  <text x="450" y="1073" font-size="10" fill="#475569">GitLab</text>

  <rect x="520" y="1058" width="20" height="20" fill="#ecfdf5" stroke="#059669"/>
  <text x="550" y="1073" font-size="10" fill="#475569">RL Loop</text>

  <rect x="630" y="1058" width="20" height="20" fill="#fff1f2" stroke="#e11d48"/>
  <text x="660" y="1073" font-size="10" fill="#475569">Self-Healing</text>

  <rect x="760" y="1058" width="20" height="20" fill="#f0fdfa" stroke="#0d9488"/>
  <text x="790" y="1073" font-size="10" fill="#475569">LLM Provider</text>

  <line x1="890" y1="1068" x2="950" y2="1068" stroke="#64748b" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="960" y="1073" font-size="10" fill="#475569">Data Flow</text>

  <rect x="1040" y="1058" width="60" height="20" rx="3" fill="#86efac" stroke="#16a34a"/>
  <text x="1070" y="1072" text-anchor="middle" font-size="9" fill="#166534">RL Stage</text>
  <text x="1110" y="1073" font-size="10" fill="#475569">Learn</text>
</svg>
