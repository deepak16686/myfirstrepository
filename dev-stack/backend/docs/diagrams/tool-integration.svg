<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1500 1200" width="1500" height="1200">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#475569"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22c55e"/>
    </marker>
    <marker id="arrowBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6"/>
    </marker>
    <marker id="arrowOrange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f97316"/>
    </marker>
    <marker id="arrowPurple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#8b5cf6"/>
    </marker>
    <marker id="arrowRed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444"/>
    </marker>
    <marker id="arrowCyan" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#06b6d4"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1500" height="1200" fill="#f1f5f9"/>

  <!-- Title -->
  <rect x="0" y="0" width="1500" height="60" fill="#0f172a"/>
  <text x="750" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="26" font-weight="bold" fill="white">Tool Integration Diagram - Input/Output Flow</text>

  <!-- ==================== USER INTERFACE LAYER ==================== -->
  <rect x="20" y="80" width="1460" height="140" rx="10" fill="#eff6ff" stroke="#3b82f6" stroke-width="2"/>
  <text x="40" y="105" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e40af">USER INTERFACE LAYER</text>

  <!-- User -->
  <circle cx="120" cy="160" r="35" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="120" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e40af">User</text>
  <text x="120" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#3b82f6">Developer</text>

  <!-- Open-WebUI -->
  <rect x="220" y="120" width="160" height="80" rx="10" fill="#c7d2fe" stroke="#6366f1" stroke-width="2"/>
  <text x="300" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4338ca">Open-WebUI</text>
  <text x="300" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6366f1">localhost:3001</text>
  <text x="300" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#818cf8">AI Chat + Tools</text>
  <text x="300" y="192" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#818cf8">Pipeline Generator Model</text>

  <!-- Swagger UI -->
  <rect x="420" y="120" width="140" height="80" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="490" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#92400e">Swagger UI</text>
  <text x="490" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#b45309">localhost:8003/docs</text>
  <text x="490" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d97706">API Testing</text>
  <text x="490" y="192" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#d97706">Interactive Docs</text>

  <!-- Grafana -->
  <rect x="600" y="120" width="140" height="80" rx="10" fill="#fef2f2" stroke="#ef4444" stroke-width="2"/>
  <text x="670" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#991b1b">Grafana</text>
  <text x="670" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#dc2626">localhost:3000</text>
  <text x="670" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#ef4444">Dashboards</text>
  <text x="670" y="192" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#ef4444">Metrics Visualization</text>

  <!-- GitLab UI -->
  <rect x="780" y="120" width="140" height="80" rx="10" fill="#fed7aa" stroke="#f97316" stroke-width="2"/>
  <text x="850" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#c2410c">GitLab UI</text>
  <text x="850" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#ea580c">localhost:8929</text>
  <text x="850" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#f97316">Repo Management</text>
  <text x="850" y="192" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#f97316">Pipeline Monitoring</text>

  <!-- SonarQube UI -->
  <rect x="960" y="120" width="140" height="80" rx="10" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="1030" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#166534">SonarQube UI</text>
  <text x="1030" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#22c55e">localhost:9002</text>
  <text x="1030" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#15803d">Code Quality</text>
  <text x="1030" y="192" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#15803d">Security Reports</text>

  <!-- Nexus UI -->
  <rect x="1140" y="120" width="140" height="80" rx="10" fill="#e0e7ff" stroke="#6366f1" stroke-width="2"/>
  <text x="1210" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4338ca">Nexus UI</text>
  <text x="1210" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6366f1">localhost:8081</text>
  <text x="1210" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#818cf8">Artifact Browser</text>
  <text x="1210" y="192" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#818cf8">Docker Registry</text>

  <!-- Redmine -->
  <rect x="1320" y="120" width="140" height="80" rx="10" fill="#fce7f3" stroke="#ec4899" stroke-width="2"/>
  <text x="1390" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9d174d">Redmine</text>
  <text x="1390" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#ec4899">localhost:8090</text>
  <text x="1390" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#be185d">Project Mgmt</text>
  <text x="1390" y="192" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#be185d">Issue Tracking</text>

  <!-- Arrows from User -->
  <line x1="155" y1="160" x2="210" y2="160" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- ==================== API GATEWAY LAYER ==================== -->
  <rect x="20" y="240" width="1460" height="160" rx="10" fill="#f0fdf4" stroke="#22c55e" stroke-width="2"/>
  <text x="40" y="265" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#166534">API GATEWAY LAYER - DevOps Backend (localhost:8003)</text>

  <!-- DevOps Backend Main -->
  <rect x="550" y="280" width="400" height="100" rx="10" fill="#bbf7d0" stroke="#22c55e" stroke-width="3"/>
  <rect x="550" y="280" width="400" height="30" rx="10" fill="#22c55e"/>
  <text x="750" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">DevOps Tools Backend API</text>

  <!-- Routers -->
  <text x="580" y="325" font-family="Arial, sans-serif" font-size="10" fill="#166534">/api/v1/gitlab (15 endpoints)</text>
  <text x="580" y="340" font-family="Arial, sans-serif" font-size="10" fill="#166534">/api/v1/sonarqube (11 endpoints)</text>
  <text x="580" y="355" font-family="Arial, sans-serif" font-size="10" fill="#166534">/api/v1/trivy (8 endpoints)</text>
  <text x="580" y="370" font-family="Arial, sans-serif" font-size="10" fill="#166534">/api/v1/nexus (17 endpoints)</text>
  <text x="780" y="325" font-family="Arial, sans-serif" font-size="10" fill="#166534">/api/v1/pipeline (7 endpoints)</text>
  <text x="780" y="340" font-family="Arial, sans-serif" font-size="10" fill="#166534">/api/v1/tools (6 endpoints)</text>
  <text x="780" y="355" font-family="Arial, sans-serif" font-size="10" fill="#166534">/api/v1/call (3 endpoints)</text>
  <text x="780" y="370" font-family="Arial, sans-serif" font-size="10" fill="#166534">Total: 70+ endpoints</text>

  <!-- Arrows from UI to Backend -->
  <line x1="300" y1="200" x2="300" y2="250" stroke="#475569" stroke-width="2"/>
  <line x1="300" y1="250" x2="550" y2="310" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="490" y1="200" x2="490" y2="250" stroke="#475569" stroke-width="2"/>
  <line x1="490" y1="250" x2="550" y2="330" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- ==================== INTEGRATION LAYER ==================== -->
  <rect x="20" y="420" width="1460" height="340" rx="10" fill="#fefce8" stroke="#eab308" stroke-width="2"/>
  <text x="40" y="445" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#854d0e">EXTERNAL TOOL INTEGRATIONS</text>

  <!-- GitLab -->
  <rect x="50" y="470" width="200" height="140" rx="10" fill="#fed7aa" stroke="#f97316" stroke-width="2"/>
  <rect x="50" y="470" width="200" height="28" rx="10" fill="#f97316"/>
  <text x="150" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">GitLab</text>
  <text x="150" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#c2410c">localhost:8929</text>
  <text x="60" y="535" font-family="Arial, sans-serif" font-size="9" fill="#ea580c">INPUT: Repo URL, Token</text>
  <text x="60" y="550" font-family="Arial, sans-serif" font-size="9" fill="#ea580c">OUTPUT: Files, Pipelines</text>
  <text x="60" y="565" font-family="Arial, sans-serif" font-size="9" fill="#ea580c">Commits, Branches, MRs</text>
  <text x="60" y="580" font-family="Arial, sans-serif" font-size="9" fill="#ea580c">Job Logs, Status</text>
  <text x="60" y="600" font-family="Arial, sans-serif" font-size="8" fill="#9a3412">Auth: PRIVATE-TOKEN header</text>

  <!-- SonarQube -->
  <rect x="280" y="470" width="200" height="140" rx="10" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <rect x="280" y="470" width="200" height="28" rx="10" fill="#22c55e"/>
  <text x="380" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">SonarQube</text>
  <text x="380" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#166534">localhost:9002</text>
  <text x="290" y="535" font-family="Arial, sans-serif" font-size="9" fill="#15803d">INPUT: Project Key</text>
  <text x="290" y="550" font-family="Arial, sans-serif" font-size="9" fill="#15803d">OUTPUT: Metrics, Issues</text>
  <text x="290" y="565" font-family="Arial, sans-serif" font-size="9" fill="#15803d">Quality Gate Status</text>
  <text x="290" y="580" font-family="Arial, sans-serif" font-size="9" fill="#15803d">Code Smells, Bugs</text>
  <text x="290" y="600" font-family="Arial, sans-serif" font-size="8" fill="#14532d">Auth: Token or Basic Auth</text>

  <!-- Trivy -->
  <rect x="510" y="470" width="200" height="140" rx="10" fill="#fef2f2" stroke="#ef4444" stroke-width="2"/>
  <rect x="510" y="470" width="200" height="28" rx="10" fill="#ef4444"/>
  <text x="610" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Trivy Security</text>
  <text x="610" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#991b1b">localhost:8083</text>
  <text x="520" y="535" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c">INPUT: Image/Repo/Path</text>
  <text x="520" y="550" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c">OUTPUT: Vulnerabilities</text>
  <text x="520" y="565" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c">CVEs, SBOM, Licenses</text>
  <text x="520" y="580" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c">Severity Counts</text>
  <text x="520" y="600" font-family="Arial, sans-serif" font-size="8" fill="#7f1d1d">Auth: None Required</text>

  <!-- Nexus -->
  <rect x="740" y="470" width="200" height="140" rx="10" fill="#e0e7ff" stroke="#6366f1" stroke-width="2"/>
  <rect x="740" y="470" width="200" height="28" rx="10" fill="#6366f1"/>
  <text x="840" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Nexus Repository</text>
  <text x="840" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4338ca">localhost:8081</text>
  <text x="750" y="535" font-family="Arial, sans-serif" font-size="9" fill="#4f46e5">INPUT: Component ID</text>
  <text x="750" y="550" font-family="Arial, sans-serif" font-size="9" fill="#4f46e5">OUTPUT: Repositories</text>
  <text x="750" y="565" font-family="Arial, sans-serif" font-size="9" fill="#4f46e5">Components, Assets</text>
  <text x="750" y="580" font-family="Arial, sans-serif" font-size="9" fill="#4f46e5">Docker Images, Tasks</text>
  <text x="750" y="600" font-family="Arial, sans-serif" font-size="8" fill="#3730a3">Auth: Basic Auth</text>

  <!-- Ollama -->
  <rect x="970" y="470" width="200" height="140" rx="10" fill="#1e293b" stroke="#0f172a" stroke-width="2"/>
  <rect x="970" y="470" width="200" height="28" rx="10" fill="#0f172a"/>
  <text x="1070" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Ollama LLM</text>
  <text x="1070" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">localhost:11434</text>
  <text x="980" y="535" font-family="Arial, sans-serif" font-size="9" fill="#cbd5e1">INPUT: Prompt, Context</text>
  <text x="980" y="550" font-family="Arial, sans-serif" font-size="9" fill="#cbd5e1">OUTPUT: Generated Text</text>
  <text x="980" y="565" font-family="Arial, sans-serif" font-size="9" fill="#cbd5e1">.gitlab-ci.yml</text>
  <text x="980" y="580" font-family="Arial, sans-serif" font-size="9" fill="#cbd5e1">Dockerfile, K8s configs</text>
  <text x="980" y="600" font-family="Arial, sans-serif" font-size="8" fill="#64748b">Auth: None Required</text>

  <!-- ChromaDB -->
  <rect x="1200" y="470" width="200" height="140" rx="10" fill="#e9d5ff" stroke="#8b5cf6" stroke-width="2"/>
  <rect x="1200" y="470" width="200" height="28" rx="10" fill="#8b5cf6"/>
  <text x="1300" y="490" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">ChromaDB</text>
  <text x="1300" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6b21a8">localhost:8000</text>
  <text x="1210" y="535" font-family="Arial, sans-serif" font-size="9" fill="#7c3aed">INPUT: Embeddings, Query</text>
  <text x="1210" y="550" font-family="Arial, sans-serif" font-size="9" fill="#7c3aed">OUTPUT: Similar Docs</text>
  <text x="1210" y="565" font-family="Arial, sans-serif" font-size="9" fill="#7c3aed">RL Feedback</text>
  <text x="1210" y="580" font-family="Arial, sans-serif" font-size="9" fill="#7c3aed">Past Corrections</text>
  <text x="1210" y="600" font-family="Arial, sans-serif" font-size="8" fill="#581c87">Auth: None Required</text>

  <!-- Arrows from Backend to Tools -->
  <line x1="650" y1="380" x2="150" y2="460" stroke="#f97316" stroke-width="2" marker-end="url(#arrowOrange)"/>
  <line x1="700" y1="380" x2="380" y2="460" stroke="#22c55e" stroke-width="2" marker-end="url(#arrowGreen)"/>
  <line x1="720" y1="380" x2="610" y2="460" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowRed)"/>
  <line x1="780" y1="380" x2="840" y2="460" stroke="#6366f1" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="820" y1="380" x2="1070" y2="460" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="860" y1="380" x2="1300" y2="460" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowPurple)"/>

  <!-- ==================== DATA STORAGE LAYER ==================== -->
  <rect x="20" y="630" width="450" height="130" rx="10" fill="#fef2f2" stroke="#ef4444" stroke-width="2"/>
  <text x="40" y="655" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#991b1b">DATABASES</text>

  <!-- PostgreSQL -->
  <rect x="40" y="670" width="130" height="75" rx="8" fill="#fecaca" stroke="#ef4444" stroke-width="2"/>
  <text x="105" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#991b1b">PostgreSQL</text>
  <text x="105" y="712" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c">localhost:5432</text>
  <text x="105" y="728" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#dc2626">App Data, SonarQube</text>
  <text x="105" y="740" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#dc2626">Redmine DBs</text>

  <!-- Redis -->
  <rect x="190" y="670" width="130" height="75" rx="8" fill="#fecaca" stroke="#ef4444" stroke-width="2"/>
  <text x="255" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#991b1b">Redis</text>
  <text x="255" y="712" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c">localhost:6379</text>
  <text x="255" y="728" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#dc2626">Cache, Sessions</text>
  <text x="255" y="740" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#dc2626">Temp Storage</text>

  <!-- MinIO -->
  <rect x="340" y="670" width="130" height="75" rx="8" fill="#fecaca" stroke="#ef4444" stroke-width="2"/>
  <text x="405" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#991b1b">MinIO</text>
  <text x="405" y="712" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#b91c1c">localhost:9000</text>
  <text x="405" y="728" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#dc2626">Object Storage</text>
  <text x="405" y="740" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#dc2626">File Uploads</text>

  <!-- ==================== MONITORING LAYER ==================== -->
  <rect x="490" y="630" width="500" height="130" rx="10" fill="#cffafe" stroke="#06b6d4" stroke-width="2"/>
  <text x="510" y="655" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0e7490">MONITORING & OBSERVABILITY</text>

  <!-- Prometheus -->
  <rect x="510" y="670" width="110" height="75" rx="8" fill="#a5f3fc" stroke="#06b6d4" stroke-width="2"/>
  <text x="565" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#0e7490">Prometheus</text>
  <text x="565" y="712" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#0891b2">:9090</text>
  <text x="565" y="728" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#06b6d4">Metrics</text>

  <!-- Loki -->
  <rect x="640" y="670" width="110" height="75" rx="8" fill="#a5f3fc" stroke="#06b6d4" stroke-width="2"/>
  <text x="695" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#0e7490">Loki</text>
  <text x="695" y="712" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#0891b2">:3100</text>
  <text x="695" y="728" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#06b6d4">Logs</text>

  <!-- Jaeger -->
  <rect x="770" y="670" width="110" height="75" rx="8" fill="#a5f3fc" stroke="#06b6d4" stroke-width="2"/>
  <text x="825" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#0e7490">Jaeger</text>
  <text x="825" y="712" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#0891b2">:16686</text>
  <text x="825" y="728" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#06b6d4">Tracing</text>

  <!-- Promtail -->
  <rect x="900" y="670" width="80" height="75" rx="8" fill="#a5f3fc" stroke="#06b6d4" stroke-width="2"/>
  <text x="940" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#0e7490">Promtail</text>
  <text x="940" y="712" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#0891b2">Agent</text>
  <text x="940" y="728" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#06b6d4">Log Ship</text>

  <!-- ==================== CI/CD LAYER ==================== -->
  <rect x="1010" y="630" width="470" height="130" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="1030" y="655" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#92400e">CI/CD INFRASTRUCTURE</text>

  <!-- GitLab Runner -->
  <rect x="1030" y="670" width="130" height="75" rx="8" fill="#fed7aa" stroke="#f59e0b" stroke-width="2"/>
  <text x="1095" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#92400e">GitLab Runner</text>
  <text x="1095" y="712" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#b45309">Container</text>
  <text x="1095" y="728" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#d97706">Executes Jobs</text>
  <text x="1095" y="740" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#d97706">Docker-in-Docker</text>

  <!-- Docker Registry -->
  <rect x="1180" y="670" width="130" height="75" rx="8" fill="#fed7aa" stroke="#f59e0b" stroke-width="2"/>
  <text x="1245" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#92400e">Docker Registry</text>
  <text x="1245" y="712" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#b45309">Nexus :5001</text>
  <text x="1245" y="728" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#d97706">Image Storage</text>
  <text x="1245" y="740" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#d97706">Push/Pull</text>

  <!-- GitLab Storage -->
  <rect x="1330" y="670" width="130" height="75" rx="8" fill="#fed7aa" stroke="#f59e0b" stroke-width="2"/>
  <text x="1395" y="695" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#92400e">GitLab Storage</text>
  <text x="1395" y="712" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#b45309">Volumes</text>
  <text x="1395" y="728" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#d97706">Repos, Configs</text>
  <text x="1395" y="740" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#d97706">Logs, Data</text>

  <!-- ==================== UNIFIED TOOL CALLER BOX ==================== -->
  <rect x="20" y="780" width="1460" height="180" rx="10" fill="#f5f3ff" stroke="#8b5cf6" stroke-width="2"/>
  <text x="40" y="805" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#6b21a8">UNIFIED TOOL CALLING - AI Integration API (POST /api/v1/call)</text>

  <!-- Input -->
  <rect x="40" y="825" width="300" height="120" rx="8" fill="#ede9fe" stroke="#8b5cf6" stroke-width="1"/>
  <text x="190" y="850" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#6b21a8">INPUT (Request)</text>
  <text x="50" y="875" font-family="monospace" font-size="10" fill="#5b21b6">{"tool": "gitlab|sonarqube|trivy</text>
  <text x="50" y="890" font-family="monospace" font-size="10" fill="#5b21b6">         |nexus|ollama|chromadb",</text>
  <text x="50" y="905" font-family="monospace" font-size="10" fill="#5b21b6"> "action": "method_name",</text>
  <text x="50" y="920" font-family="monospace" font-size="10" fill="#5b21b6"> "params": {"key": "value"}}</text>

  <!-- Processing -->
  <rect x="380" y="825" width="400" height="120" rx="8" fill="#ddd6fe" stroke="#8b5cf6" stroke-width="1"/>
  <text x="580" y="850" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#6b21a8">PROCESSING</text>
  <text x="390" y="875" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">1. Parse tool name from request</text>
  <text x="390" y="895" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">2. Get integration from INTEGRATION_MAP</text>
  <text x="390" y="915" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">3. Call integration.action(**params)</text>
  <text x="390" y="935" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">4. Return result with execution_time</text>

  <!-- Output -->
  <rect x="820" y="825" width="300" height="120" rx="8" fill="#ede9fe" stroke="#8b5cf6" stroke-width="1"/>
  <text x="970" y="850" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#6b21a8">OUTPUT (Response)</text>
  <text x="830" y="875" font-family="monospace" font-size="10" fill="#5b21b6">{"tool": "gitlab",</text>
  <text x="830" y="890" font-family="monospace" font-size="10" fill="#5b21b6"> "action": "list_projects",</text>
  <text x="830" y="905" font-family="monospace" font-size="10" fill="#5b21b6"> "success": true,</text>
  <text x="830" y="920" font-family="monospace" font-size="10" fill="#5b21b6"> "result": [...],</text>
  <text x="830" y="935" font-family="monospace" font-size="10" fill="#5b21b6"> "execution_time": 0.234}</text>

  <!-- Arrows -->
  <line x1="340" y1="885" x2="370" y2="885" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowPurple)"/>
  <line x1="780" y1="885" x2="810" y2="885" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrowPurple)"/>

  <!-- Tool Icons -->
  <rect x="1160" y="825" width="300" height="120" rx="8" fill="#c4b5fd" stroke="#8b5cf6" stroke-width="1"/>
  <text x="1310" y="850" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#6b21a8">SUPPORTED TOOLS</text>
  <text x="1180" y="875" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">gitlab - 15+ actions</text>
  <text x="1180" y="893" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">sonarqube - 11+ actions</text>
  <text x="1180" y="911" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">trivy - 8+ actions</text>
  <text x="1320" y="875" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">nexus - 17+ actions</text>
  <text x="1320" y="893" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">ollama - 5+ actions</text>
  <text x="1320" y="911" font-family="Arial, sans-serif" font-size="10" fill="#5b21b6">chromadb - 6+ actions</text>
  <text x="1250" y="935" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#5b21b6">Total: 62+ Tool Actions</text>

  <!-- ==================== STATS BOX ==================== -->
  <rect x="20" y="980" width="1460" height="200" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
  <text x="40" y="1005" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#334155">SYSTEM STATISTICS</text>

  <!-- Stats Grid -->
  <rect x="40" y="1020" width="200" height="70" rx="5" fill="#dbeafe" stroke="#3b82f6" stroke-width="1"/>
  <text x="140" y="1045" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1e40af">20</text>
  <text x="140" y="1070" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#3b82f6">Total Services</text>

  <rect x="260" y="1020" width="200" height="70" rx="5" fill="#dcfce7" stroke="#22c55e" stroke-width="1"/>
  <text x="360" y="1045" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#166534">70+</text>
  <text x="360" y="1070" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#22c55e">API Endpoints</text>

  <rect x="480" y="1020" width="200" height="70" rx="5" fill="#fef3c7" stroke="#f59e0b" stroke-width="1"/>
  <text x="580" y="1045" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#92400e">7</text>
  <text x="580" y="1070" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#b45309">API Routers</text>

  <rect x="700" y="1020" width="200" height="70" rx="5" fill="#e9d5ff" stroke="#8b5cf6" stroke-width="1"/>
  <text x="800" y="1045" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#6b21a8">6</text>
  <text x="800" y="1070" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#8b5cf6">Tool Integrations</text>

  <rect x="920" y="1020" width="200" height="70" rx="5" fill="#fed7aa" stroke="#f97316" stroke-width="1"/>
  <text x="1020" y="1045" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#c2410c">62+</text>
  <text x="1020" y="1070" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#ea580c">Tool Actions</text>

  <rect x="1140" y="1020" width="200" height="70" rx="5" fill="#fecaca" stroke="#ef4444" stroke-width="1"/>
  <text x="1240" y="1045" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#991b1b">3</text>
  <text x="1240" y="1070" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#dc2626">Database Types</text>

  <!-- Port Summary -->
  <text x="40" y="1115" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#334155">KEY PORTS:</text>
  <text x="40" y="1135" font-family="Arial, sans-serif" font-size="10" fill="#475569">Backend: 8003 | Open-WebUI: 3001 | GitLab: 8929 | SonarQube: 9002 | Trivy: 8083 | Nexus: 8081 | Ollama: 11434 | ChromaDB: 8000</text>
  <text x="40" y="1155" font-family="Arial, sans-serif" font-size="10" fill="#475569">PostgreSQL: 5432 | Redis: 6379 | MinIO: 9000 | Grafana: 3000 | Prometheus: 9090 | Loki: 3100 | Jaeger: 16686 | Docker Registry: 5001</text>
</svg>
