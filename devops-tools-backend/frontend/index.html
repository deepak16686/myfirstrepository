<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Platform - DevOps & Infrastructure</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/yaml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/dockerfile.min.js"></script>
    <!-- Marked for Markdown parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.0/marked.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Top Navigation Bar -->
        <nav class="top-nav">
            <div class="nav-brand">
                <span class="brand-icon">AI</span>
                <span class="brand-text">Platform</span>
            </div>
            <div class="nav-tabs">
                <button class="nav-tab active" data-category="devops">DevOps</button>
                <button class="nav-tab" data-category="iac">IaC</button>
                <button class="nav-tab" data-category="support">Support</button>
                <button class="nav-tab" data-category="sre">SRE</button>
                <button class="nav-tab" data-category="auxiliary">Auxiliary</button>
            </div>
            <div class="nav-status">
                <span id="connectionStatus" class="status connected">Connected</span>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Dashboard View (Cards) -->
            <div id="dashboardView" class="dashboard-view">
                <div class="cards-container" id="cardsContainer">
                    <!-- DevOps Cards -->
                    <div class="tool-card" data-tool="pipeline-generator" data-category="devops">
                        <div class="card-icon">üöÄ</div>
                        <div class="card-content">
                            <h3>GitLab Pipeline Generator</h3>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="jenkins-generator" data-category="devops">
                        <div class="card-icon">üîß</div>
                        <div class="card-content">
                            <h3>Jenkins Pipeline Generator</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card" data-tool="github-actions" data-category="devops">
                        <div class="card-icon">üêô</div>
                        <div class="card-content">
                            <h3>GitHub Actions Generator</h3>
                            <div class="card-tags">
                                <span class="tag gitea">Gitea</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="azure-devops" data-category="devops">
                        <div class="card-icon">‚òÅÔ∏è</div>
                        <div class="card-content">
                            <h3>Azure DevOps Pipeline</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <!-- IaC Cards -->
                    <div class="tool-card disabled" data-tool="terraform-generator" data-category="iac">
                        <div class="card-icon">üåç</div>
                        <div class="card-content">
                            <h3>Terraform Generator</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="ansible-generator" data-category="iac">
                        <div class="card-icon">üìú</div>
                        <div class="card-content">
                            <h3>Ansible Playbook Generator</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="k8s-generator" data-category="iac">
                        <div class="card-icon">‚ò∏Ô∏è</div>
                        <div class="card-content">
                            <h3>Kubernetes Manifest Generator</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="cloudformation" data-category="iac">
                        <div class="card-icon">üì¶</div>
                        <div class="card-content">
                            <h3>CloudFormation Generator</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <!-- Support Cards -->
                    <div class="tool-card disabled" data-tool="incident-assistant" data-category="support">
                        <div class="card-icon">üö®</div>
                        <div class="card-content">
                            <h3>Incident Assistant</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="log-analyzer" data-category="support">
                        <div class="card-icon">üìã</div>
                        <div class="card-content">
                            <h3>Log Analyzer</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="troubleshooter" data-category="support">
                        <div class="card-icon">üîç</div>
                        <div class="card-content">
                            <h3>Troubleshooting Assistant</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="knowledge-base" data-category="support">
                        <div class="card-icon">üìö</div>
                        <div class="card-content">
                            <h3>Knowledge Base Search</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <!-- SRE Cards -->
                    <div class="tool-card disabled" data-tool="slo-calculator" data-category="sre">
                        <div class="card-icon">üìà</div>
                        <div class="card-content">
                            <h3>SLO Calculator</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="capacity-planner" data-category="sre">
                        <div class="card-icon">üìä</div>
                        <div class="card-content">
                            <h3>Capacity Planner</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="runbook-generator" data-category="sre">
                        <div class="card-icon">üìñ</div>
                        <div class="card-content">
                            <h3>Runbook Generator</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="postmortem" data-category="sre">
                        <div class="card-icon">üìù</div>
                        <div class="card-content">
                            <h3>Postmortem Generator</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <!-- Auxiliary Cards -->
                    <div class="tool-card" data-tool="connectivity-validator" data-category="auxiliary">
                        <div class="card-icon">üîó</div>
                        <div class="card-content">
                            <h3>Tool Connectivity Validator</h3>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="secret-manager" data-category="auxiliary">
                        <div class="card-icon">üîê</div>
                        <div class="card-content">
                            <h3>Secret Manager</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="dependency-scanner" data-category="auxiliary">
                        <div class="card-icon">üõ°Ô∏è</div>
                        <div class="card-content">
                            <h3>Dependency Scanner</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="cost-optimizer" data-category="auxiliary">
                        <div class="card-icon">üí∞</div>
                        <div class="card-content">
                            <h3>Cost Optimizer</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="release-notes" data-category="auxiliary">
                        <div class="card-icon">üìÑ</div>
                        <div class="card-content">
                            <h3>Release Notes Generator</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="env-manager" data-category="auxiliary">
                        <div class="card-icon">üåê</div>
                        <div class="card-content">
                            <h3>Environment Manager</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="migration-assistant" data-category="auxiliary">
                        <div class="card-icon">üîÑ</div>
                        <div class="card-content">
                            <h3>Migration Assistant</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="backup-manager" data-category="auxiliary">
                        <div class="card-icon">üíæ</div>
                        <div class="card-content">
                            <h3>Backup Manager</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>

                    <div class="tool-card disabled" data-tool="compliance-checker" data-category="auxiliary">
                        <div class="card-icon">‚úÖ</div>
                        <div class="card-content">
                            <h3>Compliance Checker</h3>
                            <div class="card-tags">
                                <span class="tag coming-soon">Coming Soon</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Connectivity View -->
            <div id="connectivityView" class="connectivity-view hidden">
                <div class="tool-header">
                    <button class="back-button" onclick="goBack()">
                        <span>‚Üê</span> Back
                    </button>
                    <div class="tool-title">
                        <span class="tool-icon">üîó</span>
                        <h2>Tool Connectivity Validator</h2>
                    </div>
                    <button class="new-chat-button" onclick="testAllConnectivity()">
                        Retest All
                    </button>
                </div>

                <!-- Summary Bar -->
                <div class="connectivity-summary" id="connectivitySummary">
                    <div class="summary-item summary-total">
                        <span class="summary-count" id="totalCount">0</span>
                        <span class="summary-label">Total</span>
                    </div>
                    <div class="summary-item summary-healthy">
                        <span class="summary-count" id="healthyCount">0</span>
                        <span class="summary-label">Healthy</span>
                    </div>
                    <div class="summary-item summary-unhealthy">
                        <span class="summary-count" id="unhealthyCount">0</span>
                        <span class="summary-label">Unhealthy</span>
                    </div>
                    <div class="summary-item summary-unknown">
                        <span class="summary-count" id="unknownCount">0</span>
                        <span class="summary-label">Unknown</span>
                    </div>
                </div>

                <!-- Tool Grid -->
                <div class="connectivity-grid" id="connectivityGrid">
                    <div class="connectivity-loading">
                        <span class="spinner"></span> Testing connectivity to all tools...
                    </div>
                </div>

                <!-- Access Request Panel -->
                <div class="access-request-panel hidden" id="accessRequestPanel">
                    <h3>Request Access</h3>
                    <p class="access-info">Select failed tools above and submit an access request via Jira.</p>
                    <div class="form-group">
                        <label for="requesterName">Your Name</label>
                        <input type="text" id="requesterName" placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label for="requesterEmail">Your Email</label>
                        <input type="email" id="requesterEmail" placeholder="john@company.com">
                    </div>
                    <div class="form-group">
                        <label for="accessReason">Reason for Access</label>
                        <textarea id="accessReason" rows="3" placeholder="I need access to these tools for..."></textarea>
                    </div>
                    <div class="selected-tools" id="selectedToolsList"></div>
                    <button class="submit-request-button" onclick="submitAccessRequest()">
                        Submit Access Request
                    </button>
                </div>
            </div>

            <!-- Tool View (Chat Interface) -->
            <div id="toolView" class="tool-view hidden">
                <div class="tool-header">
                    <button class="back-button" onclick="goBack()">
                        <span>‚Üê</span> Back
                    </button>
                    <div class="tool-title">
                        <span id="toolIcon" class="tool-icon">üöÄ</span>
                        <h2 id="toolName">GitLab Pipeline Generator</h2>
                    </div>
                    <button class="new-chat-button" onclick="newConversation()">
                        New Chat
                    </button>
                </div>

                <div class="chat-container" id="chatContainer">
                    <div class="messages" id="messages">
                        <div class="message assistant">
                            <div class="message-content">
                                <p>Hello! I'm your AI DevOps assistant. I can help you generate CI/CD pipelines for your GitLab repositories.</p>
                                <p>Just provide me with a GitLab repository URL and I'll analyze it and create appropriate Dockerfile and .gitlab-ci.yml files for you.</p>
                                <p><strong>Example:</strong> "Generate a pipeline for http://gitlab-server/ai-pipeline-projects/java-springboot-api"</p>
                            </div>
                        </div>
                    </div>

                    <div class="input-container">
                        <textarea
                            id="messageInput"
                            placeholder="Enter your message... (e.g., Generate a pipeline for http://gitlab-server/group/project)"
                            rows="2"
                        ></textarea>
                        <button id="sendButton" onclick="sendMessage()">
                            <span class="button-text">Send</span>
                            <span class="button-loading" style="display: none;">
                                <span class="spinner"></span>
                            </span>
                        </button>
                    </div>
                </div>

                <div class="status-bar">
                    <span id="sessionStatus" class="status connected">Ready</span>
                    <span id="conversationId" class="conversation-id"></span>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <p>Powered by AI with Reinforcement Learning | GitLab Integration</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
